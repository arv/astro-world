{
  "Content": {
    "RecordFileName": "cases.csv",
    "RecordSize": 120,
    "Factors": [
      {
        "Name": "Fitness",
        "Id": "fitness",
        "DBIndex": 0,
        "IsCausal": true,
        "Levels": [
          {
            "Name": "Excellent",
            "Id": "excellent",
            "ImgPath": "excellent fitness.jpg"
          },
          {
            "Name": "Average",
            "Id": "average",
            "ImgPath": "average fitness.jpg"
          }
        ]
      },
      {
        "Name": "Parents' Health",
        "Id": "parentshealth",
        "DBIndex": 1,
        "IsCausal": true,
        "Levels": [
          {
            "Name": "Excellent",
            "Id": "excellent",
            "ImgPath": "excellent parents.jpg"
          },
          {
            "Name": "Fair",
            "Id": "fair",
            "ImgPath": "fair parents.jpg"
          }
        ]
      },
      {
        "Name": "Education",
        "Id": "education",
        "DBIndex": 3,
        "IsCausal": true,
        "Levels": [
          {
            "Name": "College",
            "Id": "college",
            "ImgPath": "college.jpg"
          },
          {
            "Name": "Some College",
            "Id": "some college",
            "ImgPath": "some college.jpg"
          },
          {
            "Name": "No College",
            "Id": "no college",
            "ImgPath": "no college.jpg"
          }
        ]
      },
      {
        "Name": "Family Size",
        "Id": "familysize",
        "DBIndex": 2,
        "IsCausal": false,
        "Levels": [
          {
            "Name": "Large",
            "Id": "large",
            "ImgPath": "large family.jpg"
          },
          {
            "Name": "Small",
            "Id": "small",
            "ImgPath": "small family.jpg"
          }
        ]
      },
      {
        "Name": "Home Climate",
        "Id": "homeclimate",
        "DBIndex": 4,
        "IsCausal": false,
        "Levels": [
          {
            "Name": "Hot",
            "Id": "hot"
          },
          {
            "Name": "Cold",
            "Id": "cold"
          }
        ]
      }
    ],
    "OutcomeVariable": {
      "Name": "Performance",
      "Id": "performance",
      "Levels": [
        {
          "Name": "A",
          "Id": "A"
        },
        {
          "Name": "B",
          "Id": "B"
        },
        {
          "Name": "C",
          "Id": "C"
        },
        {
          "Name": "D",
          "Id": "D"
        },
        {
          "Name": "E",
          "Id": "E"
        }
      ]
    }
  },
  "CovPhase": {
    "Id": "Cov",
    "PreviousPhaseId": "START",
    "NextPhaseId": "Chart",
    "ContentRef": {
      "Factors": [
        {
          "Id": "fitness"
        },
        {
          "Id": "parentshealth"
        },
        {
          "Id": "familysize"
        },
        {
          "Id": "education"
        }
      ]
    },
    "OrderedSequences": [
      {
        "FirstPrompt": {
          "Id": "Prior beliefs",
          "Text": [
            "Before we get started, I want to know what your opinions are.",
            "On the screen, tell me which of the factors you think will make a difference to the performance in space. When you are done, just hit \"Enter\"."
          ],
          "PromptType": "NO_INPUT",
          "ResponseType": "PRIOR_BELIEF_FACTORS",
          "UIActionModeId": "PRIOR_BELIEF_FACTORS",
          "ExpectedResponses": {
            "StateTemplateRef": "{{.Beliefs.HasCausalFactors}}",
            "Values": [
              {
                "Id": "false",
                "NextPromptRef": {
                  "Id": "end prior beliefs"
                }
              },
              {
                "Id": "true",
                "NextPrompt": {
                  "Id": "Prior beliefs levels",
                  "Text": [
                    "Ok, Now, for the factors that you thought would matter, tell me which level is best for performance.",
                    "Hit \"Enter\" when you are done."
                  ],
                  "PromptType": "NO_INPUT",
                  "ResponseType": "PRIOR_BELIEF_LEVELS",
                  "UIActionModeId": "PRIOR_BELIEF_LEVELS",
                  "ExpectedResponses": {
                    "Values": [
                      {
                        "Id": "anything",
                        "NextPrompt": {
                          "Id": "end prior beliefs",
                          "Text": [
                            "Great. So we know that you think {{$length := len .Beliefs.CausalFactors }}{{if eq $length 4}}all factors matter{{else if .Beliefs.CausalFactors}}{{range $i, $v := .Beliefs.CausalFactors}}{{if $i}}{{if eq $length 2}} and {{else if gt $i 1}} and {{else}}, {{end}}{{end}}{{$v}}{{end}}{{if .Beliefs.HasMultipleCausalFactors}} matter{{- else}} matters{{- end}}{{- else}}none of the factors matters{{- end}} to performance in space.",
                            "Now, let's figure out whether those factors actually matter! Press \"Enter\" to continue when you are ready."
                          ],
                          "PromptType": "ENTER_TO_CONTINUE",
                          "ResponseType": "COMPLETE",
                          "UIActionModeId": "NO_UIACTION"
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "FirstPrompt": {
          "Id": "test record select",
          "Text": [
            "What I have in my database is a list of records of how the applicants performed. If you study the records carefully, you will be able to see which factors make a difference to performance and which don't.",
            "Let's try it. On the screen, you can look for an applicant who you want to see. Just select a level for each factor, and the computer will find you an applicant who has all those levels and tell you his/her performance",
            "Ok, make your selection. Remember to click \"Enter\" when you are ready."
          ],
          "PromptType": "NO_INPUT",
          "ResponseType": "RECORD",
          "UIActionModeId": "RECORD_SELECT_ONE",
          "ExpectedResponses": {
            "Values": [
              {
                "Id": "anything",
                "NextPrompt": {
                  "Id": "test record result",
                  "Text": [
                    "You selected Record #{{.RecordNoOne.RecordNo}}, {{.RecordNoOne.RecordName}}. And you can see that the applicant's performance was {{.RecordNoOne.Performance}}."
                  ],
                  "PromptType": "STRAIGHT_THROUGH",
                  "ResponseType": "Basic",
                  "UIActionModeId": "RECORD_PERFORMANCE",
                  "ExpectedResponses": {
                    "Values": [
                      {
                        "Id": "anything",
                        "NextPrompt": {
                          "Id": "end",
                          "Text": [
                            "Now that you know how to select a record, you can start figuring out whether each factor matters by looking through the records. Hit \"Enter\" when you are ready to continue."
                          ],
                          "PromptType": "ENTER_TO_CONTINUE",
                          "ResponseType": "COMPLETE",
                          "UIActionModeId": "RECORD_PERFORMANCE"
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      },
      {
        "RepeatOverContent": true,
        "FirstPrompt": {
          "Id": "Select target factor",
          "Text": [
            "Which factor would you like to figure out first?"
          ],
          "PromptType": "NO_INPUT",
          "ResponseType": "SELECT_TARGET_FACTOR",
          "UIActionModeId": "NEW_TARGET_FACTOR",
          "IsDynamicExpectedResponses": true,
          "ExpectedResponses": {
            "Values": [
              {
                "Id": "CONTENT_REF",
                "NextPrompt": {
                  "Id": "one or two records",
                  "Text": [
                    "Ok. Let's figure out whether {{.TargetFactor.FactorName}} matters.",
                    "How many records would you like to see? One or Two?"
                  ],
                  "PromptType": "MC",
                  "ResponseType": "Basic",
                  "UIActionModeId": "NO_UIACTION",
                  "ExpectedResponses": {
                    "Values": [
                      {
                        "Id": "one record",
                        "Text": "One",
                        "NextPrompt": {
                          "Id": "choose one record",
                          "Text": [
                            "Which one would you like to see?",
                            "On the screen, select a level for each factor, and the computer will find you an applicant with those levels."
                          ],
                          "PromptType": "NO_INPUT",
                          "ResponseType": "RECORD",
                          "UIActionModeId": "RECORD_SELECT_ONE",
                          "ExpectedResponses": {
                            "Values": [
                              {
                                "Id": "anything",
                                "NextPrompt": {
                                  "Id": "record result with no performance",
                                  "Text": [
                                    "So, you want to look at {{.RecordNoOne.RecordName}}, record #{{.RecordNoOne.RecordNo}}. Now, before I show you the applicant's performance. Can you tell me what you would be able to figure out by looking at this record?"
                                  ],
                                  "PromptType": "Text",
                                  "ResponseType": "Basic",
                                  "UIActionModeId": "RECORD_NO_PERFORMANCE",
                                  "ExpectedResponses": {
                                    "Values": [
                                      {
                                        "Id": "anything",
                                        "NextPrompt": {
                                          "Id": "record with performance",
                                          "Text": [
                                            "Ok. The performance of the applicant you chose is {{.RecordNoOne.Performance}}. Now that you saw the performance. What did you find out?"
                                          ],
                                          "PromptType": "Text",
                                          "ResponseType": "Basic",
                                          "UIActionModeId": "RECORD_PERFORMANCE",
                                          "ExpectedResponses": {
                                            "Values": [
                                              {
                                                "Id": "anything",
                                                "NextPrompt": {
                                                  "Id": "is there enough information",
                                                  "Text": [
                                                    "Do you have enough information to say whether {{.TargetFactor.FactorName}} makes a difference to the performance in the space? Yes or No?"
                                                  ],
                                                  "PromptType": "MC",
                                                  "ResponseType": "Basic",
                                                  "UIActionModeId": "RECORD_PERFORMANCE",
                                                  "ExpectedResponses": {
                                                    "Values": [
                                                      {
                                                        "Id": "yes",
                                                        "Text": "Yes",
                                                        "NextPrompt": {
                                                          "Id": "enough information",
                                                          "Text": [
                                                            "What will happen to the performance for this applicant if {{.TargetFactor.FactorName}} was {{$factorId := .TargetFactor.FactorId}}{{$factor := index .RecordNoOne.FactorLevels $factorId}}{{$factor.OppositeLevel}} instead?"
                                                          ],
                                                          "PromptType": "Text",
                                                          "ResponseType": "Basic",
                                                          "UIActionModeId": "RECORD_PERFORMANCE",
                                                          "ExpectedResponses": {
                                                            "Values": [
                                                              {
                                                                "Id": "anything",
                                                                "NextPrompt": {
                                                                  "Id": "are you sure",
                                                                  "Text": [
                                                                    "Ok. Do you know for sure?"
                                                                  ],
                                                                  "PromptType": "Text",
                                                                  "ResponseType": "Basic",
                                                                  "UIActionModeId": "RECORD_PERFORMANCE",
                                                                  "ExpectedResponses": {
                                                                    "Values": [
                                                                      {
                                                                        "Id": "anything",
                                                                        "NextPrompt": {
                                                                          "Id": "test it out",
                                                                          "Text": [
                                                                            "Why don't you test it out? Press \"Enter\" when you are ready to continue."
                                                                          ],
                                                                          "PromptType": "ENTER_TO_CONTINUE",
                                                                          "ResponseType": "Basic",
                                                                          "UIActionModeId": "RECORD_PERFORMANCE",
                                                                          "ExpectedResponses": {
                                                                            "Values": [
                                                                              {
                                                                                "Id": "anything",
                                                                                "NextPrompt": {
                                                                                  "Id": "select record to compare",
                                                                                  "Text": [
                                                                                    "What record would you need to test this out? Find a record that can help you find out if you were right. Select a level for each factor, and the computer will find you an applicant with those levels."
                                                                                  ],
                                                                                  "PromptType": "NO_INPUT",
                                                                                  "ResponseType": "RECORD",
                                                                                  "UIActionModeId": "RECORD_SELECT_ONE_AND_SHOW_PERFORMANCE",
                                                                                  "ExpectedResponses": {
                                                                                    "Values": [
                                                                                      {
                                                                                        "Id": "Single record",
                                                                                        "NextPromptRef": {
                                                                                          "Id": "p1r2p1r1p1"
                                                                                        }
                                                                                      },
                                                                                      {
                                                                                        "Id": "Target factor non-varying",
                                                                                        "NextPromptRef": {
                                                                                          "Id": "p1r2p1r1p1"
                                                                                        }
                                                                                      },
                                                                                      {
                                                                                        "Id": "Two records non-varying",
                                                                                        "NextPromptRef": {
                                                                                          "Id": "p1r2p1r2p1"
                                                                                        }
                                                                                      },
                                                                                      {
                                                                                        "Id": "Two records uncontrolled",
                                                                                        "NextPromptRef": {
                                                                                          "Id": "p1r2p1r3p1"
                                                                                        }
                                                                                      },
                                                                                      {
                                                                                        "Id": "Two records controlled",
                                                                                        "NextPromptRef": {
                                                                                          "Id": "p1r2p1r4p1"
                                                                                        }
                                                                                      }
                                                                                    ]
                                                                                  }
                                                                                }
                                                                              }
                                                                            ]
                                                                          }
                                                                        }
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      },
                                                      {
                                                        "Id": "no",
                                                        "Text": "No",
                                                        "NextPrompt": {
                                                          "Id": "not enough information",
                                                          "Text": [
                                                            "Ok, let's see how we can figure out whether {{.TargetFactor.FactorName}} makes a difference",
                                                            "What do you think would happen to {{.RecordNoOne.RecordName}}'s performance, if {{.TargetFactor.FactorName}} was {{$factorId := .TargetFactor.FactorId}}{{$factor := index .RecordNoOne.FactorLevels $factorId}}{{$factor.OppositeLevel}} instead?"
                                                          ],
                                                          "PromptType": "Text",
                                                          "ResponseType": "Basic",
                                                          "UIActionModeId": "RECORD_PERFORMANCE",
                                                          "ExpectedResponses": {
                                                            "Values": [
                                                              {
                                                                "Id": "anything",
                                                                "NextPromptRef": {
                                                                  "Id": "are you sure"
                                                                }
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              }
                                            ]
                                          }
                                        }
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        }
                      },
                      {
                        "Id": "p1r2",
                        "Text": "Two",
                        "NextPrompt": {
                          "Id": "p1r2p1",
                          "Text": [
                            "Which records would you like to see?"
                          ],
                          "PromptType": "NO_INPUT",
                          "ResponseType": "RECORD",
                          "UIActionModeId": "RECORD_SELECT_TWO",
                          "ExpectedResponses": {
                            "Values": [
                              {
                                "Id": "Target factor non-varying",
                                "NextPrompt": {
                                  "Id": "p1r2p1r1p1",
                                  "Text": [
                                    "What happens if one is higher?"
                                  ],
                                  "PromptType": "Text",
                                  "ResponseType": "Basic",
                                  "UIActionModeId": "RECORD_PERFORMANCE",
                                  "ExpectedResponses": {
                                    "Values": [
                                      {
                                        "Id": "anything",
                                        "NextPrompt": {
                                          "Id": "The End",
                                          "Text": [
                                            "Thank you"
                                          ],
                                          "PromptType": "STRAIGHT_THROUGH",
                                          "ResponseType": "COMPLETE",
                                          "UIActionModeId": "NO_UIACTION"
                                        }
                                      }
                                    ]
                                  }
                                }
                              },
                              {
                                "Id": "Two records non-varying",
                                "NextPrompt": {
                                  "Id": "p1r2p1r2p1",
                                  "Text": [
                                    "Thank you"
                                  ],
                                  "PromptType": "STRAIGHT_THROUGH",
                                  "ResponseType": "COMPLETE",
                                  "UIActionModeId": "RECORD_PERFORMANCE"
                                }
                              },
                              {
                                "Id": "Two records uncontrolled",
                                "NextPrompt": {
                                  "Id": "p1r2p1r3p1",
                                  "Text": [
                                    "Uncontrolled, Thank you!"
                                  ],
                                  "PromptType": "STRAIGHT_THROUGH",
                                  "ResponseType": "COMPLETE",
                                  "UIActionModeId": "RECORD_PERFORMANCE"
                                }
                              },
                              {
                                "Id": "Two records controlled",
                                "NextPrompt": {
                                  "Id": "p1r2p1r4p1",
                                  "Text": [
                                    "Controlled, Thank you!"
                                  ],
                                  "PromptType": "STRAIGHT_THROUGH",
                                  "ResponseType": "COMPLETE",
                                  "UIActionModeId": "RECORD_PERFORMANCE"
                                }
                              }
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  },
  "ChartPhase": {
    "Id": "Chart",
    "PreviousPhaseId": "Cov",
    "NextPhaseId": "Prediction",
    "ContentRef": {
      "Factors": [
        {
          "Id": "fitness"
        },
        {
          "Id": "parentshealth"
        },
        {
          "Id": "familysize"
        },
        {
          "Id": "education"
        },
        {
          "Id": "homeclimate"
        }
      ]
    },
    "OrderedSequences": [
      {
        "RepeatOverContent": false,
        "FirstPrompt": {
          "Id": "Which factor",
          "Text": [
            "Which chart factor do you want to look at?"
          ],
          "PromptType": "NO_INPUT",
          "ResponseType": "SELECT_TARGET_FACTOR",
          "UIActionModeId": "NEW_TARGET_FACTOR",
          "ExpectedResponses": {
            "Values": [
              {
                "Id": "fitness",
                "Text": "Fitness",
                "NextPrompt": {
                  "Id": "p1",
                  "Text": [
                    "Thank you"
                  ],
                  "PromptType": "NO_INPUT",
                  "ResponseType": "COMPLETE",
                  "UIActionModeId": "NO_UIACTION"
                }
              },
              {
                "Id": "parentshealth",
                "Text": "Parents' Health",
                "NextPromptRef": {
                  "Id": "p1"
                }
              },
              {
                "Id": "familysize",
                "Text": "Family Size",
                "NextPromptRef": {
                  "Id": "p1"
                }
              },
              {
                "Id": "education",
                "Text": "Education",
                "NextPromptRef": {
                  "Id": "p1"
                }
              },
              {
                "Id": "homeclimate",
                "Text": "Home Climate",
                "NextPromptRef": {
                  "Id": "p1"
                }
              }
            ]
          }
        }
      }
    ]
  }
}